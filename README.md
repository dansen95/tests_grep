Автотесты для утилиты grep. Тесты написаны с помощью библиотеки pytest в окружении Linux

Для запуска тестов необходимо установить библиотеку pytest командой "pip install -U pytest".

Код находится в файле main.py. Запускать командой "pytest main.py"

Поиск ключевых слов утилитой grep производится в тестовом файле test.txt. 

Первый тест test_grep_data проверяет, что утилита grep возвращает строку с искомым ключевым словом "linux" в файле test.txt, где находится данное слово. Команда в данном случае выглядит так: "grep linux test.txt".

Второй тест test_grep_data_2_words проверяет, что утилита grep возвращает две строки с искомым ключевым словом "testing" в файле test.txt, где находится два данных слова. Команда в данном случае выглядит так: "grep testing test.txt".

Третий тест test_get_grep_amount проевряет, что утилита grep возвращает количество строк, где находится искомое ключевое слово "testing" в файле test.txt, где расположено два данных слова. Команда в данном случае выглядит так: "grep -с testing test.txt".

Четвертый тест test_grep_A_flag проверяет, что утилита grep возвращает две строки, с ключевым словом "pytest", и словом "linux", находящимся под строкой с ключевым словом. Команда в данном случае выглядит так: "grep -A 1 pytest test.txt". Флаг "-A" показывает, что помимо строки с искомым словом, нам нужно вывести строку, находящуюся под строкой с ключевым словом. "1" показывает, что нужно вывести только одну строку под строкой с ключевым словом. В данном тесте данные, полученные с помощью команды, преобразованы сначала в список, а из списка в строку. Это сделано для избавления от символов "/n" (Перенос строки). В следующем тесте данная операция повторяется.

Пятый тест test_grep_A_flag проверяет, что утилита grep возвращает две строки, с ключевым словом "testing", и словом "pytest", находящимся над строкой с ключевым словом. Команда в данном случае выглядит так: "grep -B 1 pytest test.txt". Флаг "-В" показывает, что помимо строки с искомым словом, нам нужно вывести строку, находящуюся над строкой с ключевым словом. "1" показывает, что нужно вывести только одну строку над строкой с ключевым словом.

Шестой тест test_grep_C_flag проверяет, что утилита grep возвращает три строки, с ключевым словом "pytest", словом "linux", находящимся под ключевым, и словом "testing" находящимся над ключевым. Команда в данном случае выглядит так: "grep -С 1 pytest test.txt". Флаг "-С" показывает, что помимо строки с искомым словом, нам нужно вывести строку, находящуюся под строкой с ключевым словом, и строку, находящуюся над строкой с ключевым словом. "1" показывает, что нужно вывести только одну строку под строкой с ключевым словом, и однк строку над строкой с ключевым словом. В данном тесте после преобразования полученных данных командой в список, сначала производится удаление лишних пробелов из элементов списка, а потом преобразование списка в строку.

Все тесты выполняются успешно.
